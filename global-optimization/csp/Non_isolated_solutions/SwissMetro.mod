#===============================================================================
# Problem:	SwissMetro - etude preliminaire
# Description:	This is the original model.
# Find:		(bec, bed, d, i, p)
# Origin:	Taken from SpaceSolver, LIA/EPFL.
# AMPL coding:	Xuan-Ha VU (xuan-ha.vu@epfl.ch), EPFL/I&C/LIA
# Version:	0.1
# Class:	NOI0-RNN-5-4
# Variables:	
#		Main: 5
#		Auxiliary: 0
# Constraints:	
#		Linear: 0
#		Non-linear: 4
#===============================================================================


#-------------------------------------------------------------------------------
# Constants
#-------------------------------------------------------------------------------
param ZeroPlus := 1e-12;


#-------------------------------------------------------------------------------
# 0 parameters; Enter your values here
#-------------------------------------------------------------------------------


#-------------------------------------------------------------------------------
# 5 variables
#-------------------------------------------------------------------------------
var bec >=100.0, <=213.9;	#100.0 Consommation d'energie primaire [Wh/pkm]
var bed >=200.0, <=509.0;	#200.0 Bilan energetic direct [TJ/an]
var d >=4.0, <=6.5;		#5.1 Diametre [m]
var i >=2.5, <=5.0;		#2.5 Investissement infrastructure [Mia Frs]
var p >=2000 <=26000;		#10000 Pression [Pa]


#-------------------------------------------------------------------------------
# 4 constraints
#-------------------------------------------------------------------------------

subject to

# investissement (erreur < 0.274205%)
C00:	i = 0.885504 + 0.161168*d + 0.0580865*d^2 + 0.000125714*p - 3.72952e-05*p*d + 2.75772e-06*p*d^2 - 6.48228e-10*p^2 + 2.27093e-10*p^2*d - 1.88417e-11*p^2*d^2;

# bilan energetic direct (erreur < 5.01%)
C01:	bed = 1356.84 - 770.985*d + 163.269*d^2 - 10.9702*d^3 + 0.175169*p + 0.0253231*p*d - 0.0211229*p*d^2 + 0.0020092*p*d^3 + 5.77632e-05*p^2 - 3.50557e-05*p^2*d + 6.88707e-06*p^2*d^2 - 4.3986e-07*p^2*d^3 + 2.54224e-09*p^3 - 1.17876e-09*p^3*d + 1.79162e-10*p^3*d^2 - 8.92336e-12*p^3*d^3;

# variation de la consommation d'energie primaire(erreur < 6.06%)
C02:	bec = -399.049 + 263.172*d - 45.0848*d^2 + 2.60953*d^3 + 0.206253*p - 0.0831919*p*d + 0.0113248*p*d^2 - 0.000529331*p*d^3 + 3.82327e-05*p^2 - 1.98013e-05*p^2*d + 3.40769e-06*p^2*d^2 - 1.94407e-07*p^2*d^3 - 1.3995e-10*p^3 + 6.56772e-11*p^3*d - 1.03366e-11*p^3*d^2 + 5.38036e-13*p^3*d^3;

# limite 5Mia sFr sur le cout totale avec exploitation sur 30 ans 
# a 0.15 sFr&KWh, 0.000277778 : conversion d'unites
C03:	i + 30*0.15*bed*0.000277778 <= 5.0 - ZeroPlus;

#-------------------------------------------------------------------------------
solve;
display bec, bed, d, i, p;
